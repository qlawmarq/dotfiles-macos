---
description: 生成された PRP の品質をレビューして改善提案を提供
category: prp
allowed-tools: Read, Glob, Write
argument-hint: [PRP ファイルパス]
---

# PRP レビュー

このコマンドは、Product Requirement Prompt (PRP) の品質を体系的に評価し、建設的なフィードバックと改善提案を提供します。

## 使用方法

PRP ファイルをレビューするには:

```
/prp-review PRPs/my-feature.md
```

または、引数なしで実行すると、レビューしたい PRP ファイルを尋ねます:

```
/prp-review
```

## このコマンドが行うこと

1. **PRP ファイルの読み込み**: 指定された PRP ファイルを読み込み、内容を解析
2. **構造的完全性の評価**: テンプレート構造への準拠、必須セクションの存在確認
3. **コンテキスト完全性の評価**: 実装に必要な情報の充足度、参照ドキュメントの適切性
4. **情報密度の評価**: 参照の具体性、実行可能性、詳細度
5. **実装可能性の評価**: タスクの依存関係、パターン参照の明確性
6. **品質基準の評価**: 検証ゲート、チェックリストの包括性
7. **スコアリング**: 各観点を 1-10 で評価し、総合的な信頼スコアを算出
8. **改善提案の生成**: 具体的で実行可能な改善案を提供し、必要に応じて改善版 PRP の生成を提案

## レビューフォーカスエリア

### 1. 構造的完全性

- **必須セクションの存在**: 目標、なぜ、何を、コンテキスト、実装設計図、検証ループ、最終検証チェックリストが含まれているか
- **テンプレート準拠**: `PRPs/templates/prp_base.md` の構造に従っているか
- **セクションの順序**: 論理的な順序で構成されているか
- **YAML フロントマター**: name と description が適切に定義されているか

### 2. コンテキスト完全性

- **コンテキスト完全性チェック**: 「このコードベースについて何も知らない人が、これを成功裏に実装するために必要なすべてを持っているか？」
- **参照ドキュメント**: 必要なファイル、URL、ドキュメントが YAML 形式で明記されているか
- **参照の質**: 各参照に `why`（理由）、`pattern`（パターン）、`critical`/`gotcha`（重要な注意点）が含まれているか
- **既知の注意点**: コードベースやライブラリの制約、注意点が記載されているか
- **コードベースツリー**: 現在のツリーと望ましいツリーが明記されているか

### 3. 情報密度

- **URL の具体性**: URL にセクションアンカー（#section-name）が含まれているか
- **ファイル参照の具体性**: ファイル参照に従うべき具体的なパターンが含まれているか
- **タスク仕様の詳細度**: 命名規則、配置、依存関係が明確か
- **検証コマンドの実行可能性**: プロジェクト固有で実際に実行できるコマンドか
- **具体例の提供**: コードスニペット、設定例が含まれているか

### 4. 実装可能性

- **タスクの依存関係順序**: 実装タスクが依存関係に従って順序付けられているか
- **パターン参照の明確性**: 従うべきパターンや既存ファイルが明確に示されているか
- **実装方法の具体性**: どのように実装するかが具体的に記述されているか
- **エッジケースの考慮**: 想定されるエッジケースや例外が考慮されているか
- **ワンパス成功の可能性**: PRP だけで一度で実装が成功する可能性が高いか

### 5. 品質基準

- **目標の明確性**: 機能目標、成果物、成功の定義が具体的で測定可能か
- **検証ゲートの段階性**: レベル 1-4 の検証が段階的に定義されているか
- **検証の包括性**: 構文、単体テスト、統合テスト、ドメイン固有テストがカバーされているか
- **最終チェックリストの完全性**: 技術、機能、コード品質、ドキュメントの検証項目が含まれているか
- **アンチパターンの定義**: 避けるべきアンチパターンが明確に定義されているか

## レビューガイドライン

### 評価アプローチ

- **建設的に**: PRP 作成者を批判するのではなく、PRP の品質向上に焦点を当てる
- **具体的に**: 正確なセクション名や行番号を指摘し、懸念事項を明確に説明する
- **解決策を提案**: 問題を指摘するだけでなく、具体的な改善案や追加すべき情報を提供する
- **質問する**: 不明確な部分や曖昧な表現があれば、明確化を求める
- **良い点を認める**: よく書かれたセクションや優れた設計判断を強調する
- **優先順位を区別**: 修正必須の問題（実装が失敗する）と改善提案（品質向上）を明確に区別する

### スコアリング基準

各観点を 1-10 で評価し、総合的な信頼スコアを算出:

- **9-10: 優秀**

  - すぐに実装可能
  - すべての必要な情報が含まれている
  - ワンパス成功の可能性が非常に高い

- **7-8: 良好**

  - 軽微な改善で実装可能
  - ほとんどの情報が含まれているが、いくつか補足が必要
  - ワンパス成功の可能性が高い

- **5-6: 普通**

  - いくつかの改善が必要
  - 重要な情報が不足している箇所がある
  - 実装者が追加調査を必要とする可能性がある

- **3-4: 要改善**

  - 重大な問題がある
  - 多くの必須情報が不足している
  - 実装失敗のリスクが高い

- **1-2: 不十分**
  - 大幅な修正が必要
  - 基本的な構造や情報が欠如している
  - このままでは実装不可能

### フィードバック構造

レビューフィードバックは以下の構造で提供:

1. **エグゼクティブサマリー**

   - 総合的な信頼スコア（1-10）
   - 主要な強みと懸念事項
   - 推奨される次のアクション

2. **観点別評価**

   - 各観点のスコア（1-10）
   - 良い点
   - 改善が必要な点
   - 具体的な改善提案

3. **優先度付き改善リスト**

   - 修正必須（実装が失敗する問題）
   - 推奨改善（品質向上のための提案）
   - オプション改善（さらなる品質向上）

4. **次のステップ**
   - 改善版 PRP の生成が必要か
   - 追加調査が必要な領域
   - 実装開始の準備状況

## 追加ガイダンス

$ARGUMENTS
