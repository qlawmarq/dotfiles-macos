---
description: ブログコンテンツの品質をレビュー
argument-hint: [レビュー対象のドキュメント or レビュー対象のPATH]
allowed-tools: Read, Edit, WebSearch, WebFetch, mcp__fetch__fetch
---

**コマンドコンテキスト**: 文章コンテンツの包括的品質保証

次の対象をレビューしてください: $ARGUMENTS

---

## レビュー基準（必ず参照）

### SEO 最適化基準

**タイトル (title)**:

- **日本語**: 50-60 文字を推奨
- **英語**: 50-60 文字を推奨
- 主要キーワードをタイトルの先頭付近に配置
- 魅力的でクリックを促す表現

**説明文 (description)**:

- **文字数**: 150-160 文字
- 記事の要約として適切か
- CTA や行動喚起の要素を含むか

**タグ (tags)**:

- 2-5 個程度が最適
- 記事内容と関連性が高いか

### コンテンツフォーマット基準

**必須フロントマター項目**:

```yaml
title: "記事タイトル"
description: "説明文"
tags: ["タグ1", "タグ2"]
publishedAt: "2025-01-01T12:00:00.000Z" # ISO 8601形式
updatedAt: "2025-01-01T12:00:00.000Z" # ISO 8601形式
```

**マークダウン構文**:

- 見出しは `##` から開始（`#` はタイトル用として使用しない）
- コードブロックは言語指定を含める
- リンクは適切にフォーマット

### 文法・表現基準

- 誤字脱字がないこと
- 専門用語の一貫性
- 文末表現の自然さ
- スペルミスがないこと
- 文法的に正しいこと
- トーンの一貫性

### コンテンツ品質基準

**構造**:

- 導入・本文・結論の流れが明確
- 見出し階層が適切（h2 → h3 → h4）
- セクションごとの内容が論理的

**信頼性**:

- 技術的に正確な情報
- 必要に応じて参考文献や引用を含む
- 最新の情報が反映されている

### 正確性・信頼性基準（2025 年版）

**URL・リンクの検証**:

- すべての URL が有効（404 エラーなし）
- リンク先の内容が記事の説明・引用と一致
- リンク切れや移転先への自動リダイレクトの有無

**技術的正確性**:

- ライブラリ・フレームワークのバージョン番号が正確
- API・メソッドの使用方法が公式ドキュメントと一致
- コマンド・コード例が実際に動作する内容
- 技術的な主張に裏付けとなる情報源がある

**情報の鮮度**:

- 記載情報が最新（古い情報でないか）
- 非推奨(deprecated)な機能を推奨していない
- 最新のベストプラクティスに沿っている
- 公式ドキュメントの変更が反映されている

**引用・参考文献**:

- 引用元が正確に記載されている
- 引用内容が原文と一致している
- 参考文献の URL が有効
- 出典の信頼性が適切（公式サイト、信頼できるメディアなど）

---

## 実行ステップ

**Think deeply** 以下のステップを順番に実行:

### ステップ 1: 入力解析と読み込み

```bash
# 引数がファイルパスかドキュメント本文かを判定
# ファイルパスの場合は Read tool で読み込み
```

**判定基準**:

- `contents/blogs/` や `.md` を含む → ファイルパス
- 上記以外で長文 → ドキュメント本文
- 不明な場合はユーザーに確認

### ステップ 2: コンテンツ解析

1. **フロントマター解析**:

   - YAML 部分を抽出
   - 必須項目の存在確認
   - 各フィールドの形式検証

2. **本文解析**:
   - マークダウン構造の確認
   - 見出し階層の検証
   - コードブロック・リンクの確認

### ステップ 3: 正確性・信頼性チェック

記事内の情報を外部リソースで検証:

#### URL・リンク検証

**手順**:

1. **URL 抽出**:

   - 記事内のすべての URL（http/https）を正規表現で抽出
   - マークダウンリンク形式 `[text](url)` と直接記載 URL の両方

2. **各 URL の検証**:

   - `WebFetch` または `mcp__fetch__fetch` で URL にアクセス
   - ステータス確認（200 OK, 404 Not Found, リダイレクトなど）
   - リンク先コンテンツの概要を取得

3. **整合性確認**:
   - 記事内の説明とリンク先の内容が一致しているか
   - 引用している場合、引用内容が正確か

**結果記録**:

- ✅ 有効な URL（内容も一致）
- ⚠️ 有効だが内容に疑義あり
- ❌ 無効な URL（404、タイムアウトなど）

#### 技術情報検証

**手順**:

1. **検証対象の抽出**:

   - ライブラリ/フレームワーク名とバージョン番号
   - API/メソッド名
   - コマンドライン例
   - 技術的な主張（「〜は〜である」）

2. **Web 検索による検証**:

   ```
   WebSearch で以下を検証:
   - "[ライブラリ名] [バージョン番号] official documentation"
   - "[API名] [言語] latest documentation"
   - "[技術的主張] verify" または "[技術的主張] 検証"
   ```

3. **公式ドキュメントとの照合**:

   - 検索結果から公式サイト・信頼できる情報源を特定
   - `WebFetch` で公式ドキュメントの該当箇所を確認
   - 記事の記述と公式情報の一致を検証

4. **非推奨・古い情報のチェック**:
   - "deprecated" または "非推奨" の検索
   - 最新バージョンでの変更点確認

**結果記録**:

- ✅ 公式ドキュメントと一致
- ⚠️ 部分的に古い、または補足が必要
- ❌ 誤った情報または大きく異なる

#### 引用・参考文献検証

**手順**:

1. **引用箇所の特定**:

   - 引用符で囲まれた部分
   - 「〜によると」「〜では」などの表現

2. **出典の検証**:

   - 引用元 URL がある場合は内容を確認
   - ない場合は `WebSearch` で原文を探索

3. **信頼性評価**:
   - 出典の種類（公式サイト、学術論文、個人ブログなど）
   - 情報の新しさ（公開日・更新日）

**検証の優先順位**:

1. 高優先: 技術的な主張、バージョン情報、API 仕様
2. 中優先: 外部リンク、引用
3. 低優先: 一般的な説明、背景情報

**注意事項**:

- すべての URL と重要な技術情報は必ず検証
- Web 検索/Fetch に失敗しても処理を継続
- 検証できなかった項目は結果に明記

---

### ステップ 4: 多観点レビュー実行

以下の観点でレビューを実施:

#### 文法・表現チェック

**確認項目**:

- [ ] 誤字脱字がないか
- [ ] 文体が統一されているか
- [ ] 専門用語の使用が一貫しているか
- [ ] 文末表現が自然か
- [ ] 読みやすい文章か

#### SEO 最適化チェック

**確認項目**:

- [ ] タイトル長が適切か（50-60 文字）
- [ ] 主要キーワードがタイトル先頭付近にあるか
- [ ] 説明文長が適切か（150-160 文字）
- [ ] 説明文が記事内容を要約しているか
- [ ] タグの数が適切か（2-5 個）
- [ ] タグが記事内容と関連しているか

#### コンテンツ品質チェック

**確認項目**:

- [ ] 見出し階層が論理的か
- [ ] 導入・本文・結論の流れがあるか
- [ ] 段落の長さが適切か
- [ ] コードブロックに言語指定があるか
- [ ] 参考文献・引用が適切か（必要に応じて）
- [ ] 技術的に正確な情報か

### ステップ 5: レビュー結果の生成

以下の形式でレビュー結果を出力:

```markdown
# 📝 ブログコンテンツレビュー結果

**レビュー対象**: [ファイルパスまたは"貼り付けドキュメント"]
**レビュー日時**: [現在日時]

---

## 📊 総合評価

✅ 良好: [X]項目
⚠️ 改善推奨: [Y]項目
❌ 要修正: [Z]項目

**総合判定**: [✅ 合格 / ⚠️ 改善推奨 / ❌ 要修正]

---

## 1️⃣ フォーマット準拠

[各チェック項目の結果]

**問題点**:

- [具体的な問題]

**改善提案**:

- [具体的な修正案]

---

## 2️⃣ SEO 最適化

[各チェック項目の結果]

**問題点**:

- [具体的な問題]

**改善提案**:

- [具体的な修正案（修正前後の比較含む）]

---

## 3️⃣ 文法・表現

[各チェック項目の結果]

**問題点**:

- [具体的な問題（行番号付き）]

**改善提案**:

- [具体的な修正案]

---

## 4️⃣ コンテンツ品質

[各チェック項目の結果]

**問題点**:

- [具体的な問題]

**改善提案**:

- [具体的な修正案]

---

## 5️⃣ 正確性・信頼性

### URL・リンク検証結果

**検証した URL**: [N]件

✅ **有効（[X]件)**:

- [URL]: [リンク先の概要]

⚠️ **要確認（[Y]件)**:

- [URL]: [問題点の説明]

❌ **無効（[Z]件)**:

- [URL]: [エラー詳細（404、タイムアウトなど）]

### 技術情報検証結果

**検証した技術情報**: [N]件

✅ **正確（[X]件)**:

- [項目]: [検証結果の詳細]

⚠️ **要更新（[Y]件)**:

- [項目]: [問題点と推奨される更新内容]

❌ **誤り（[Z]件)**:

- [項目]: [誤りの詳細と正しい情報]

**検証できなかった項目**:

- [項目]: [理由]

### 引用・参考文献検証結果

**検証した引用**: [N]件

✅ **正確**:

- [引用箇所]: [出典と確認結果]

⚠️ **要確認**:

- [引用箇所]: [問題点]

### 情報の鮮度評価

- 最新情報との整合性: [評価]
- 非推奨機能の使用: [有/無]
- ベストプラクティスへの準拠: [評価]

---

## 🔧 推奨される修正一覧

優先度順に修正項目をリスト化:

### 高優先度（要修正）

1. [修正項目と具体的な修正内容]

### 中優先度（改善推奨）

1. [修正項目と具体的な修正内容]

### 低優先度（任意）

1. [修正項目と具体的な修正内容]

---
```

### ステップ 6: 対話的修正

レビュー結果を出力した後:

1. **修正確認**:

   ```
   これらの修正を実行しますか？
   - すべて修正 (all)
   - 高優先度のみ (high)
   - 個別選択 (select)
   - 修正しない (no)
   ```

2. **修正実行**:

   - ユーザーの選択に応じて修正を実行
   - ファイルパスが指定されている場合は `Edit` tool を使用
   - 修正後、変更内容を要約して表示

3. **再レビュー**:

   ```
   修正を適用しました。再レビューを実行しますか？ (y/n)
   ```

   - `y` の場合: ステップ 2 から再実行
   - `n` の場合: 完了

---

## 重要な注意事項

1. **言語**: デフォルトで日本語としてレビュー（英語/日本語の判定は不要）
2. **SEO 基準**: 上記の「レビュー基準」セクションを必ず参照
3. **具体性**: 問題点は行番号や具体的な箇所を示す
4. **建設的**: 批判だけでなく改善案を必ず提示
5. **文脈理解**: 記事の内容やテーマに合わせて判断

---

## 実行例

```bash
# ファイルパスを指定
/review @contents/blogs/ja/sample.md

# ドキュメント本文を貼り付け
/review [ドキュメント全文を貼り付け]
```
