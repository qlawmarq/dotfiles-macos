# SPEC PRPの作成（高度）

明確な変換目標を持つ包括的な仕様駆動PRPを生成します。

## 仕様: $ARGUMENTS

## 分析プロセス

1. **現状評価**
   - 既存の実装をマッピング
   - 課題を特定
   - 技術的負債を文書化
   - 統合ポイントを記録

2. **目標状態リサーチ**
   - ターゲット状態のベストプラクティス
   - 実装例
   - 移行戦略
   - リスク評価
   - 依存関係マッピング

3. **ユーザーへの明確化**
   - 変換目標を確認
   - 目標の優先順位
   - 受け入れ可能なトレードオフ

## PRP生成

`/PRPs/templates/prp_spec.md`を使用:

### 状態ドキュメント

```yaml
current_state:
  files: [影響を受けるファイルのリスト]
  behavior: [現在の動作方法]
  issues: [具体的な問題]

desired_state:
  files: [期待される構造]
  behavior: [ターゲット機能]
  benefits: [得られる改善]
```

### 階層的目標

1. **高レベル**: 全体的な変換目標
2. **中レベル**: 主要なマイルストーン
3. **低レベル**: 検証付きの具体的タスク

### 情報密度の高いキーワードを使用したタスク仕様

#### 情報密度の高いキーワード:

- MIRROR: 既存コードの状態を別のユースケースにミラーリング
- COPY: 既存コードの状態を別のユースケースにコピー
- ADD: コードベースに新しいコードを追加
- MODIFY: 既存コードを変更
- DELETE: 既存コードを削除
- RENAME: 既存コードの名前を変更
- MOVE: 既存コードを移動
- REPLACE: 既存コードを置換
- CREATE: 新しいコードを作成

#### 例:

```yaml
task_name:
  action: MODIFY/CREATE
  file: path/to/file
  changes: |
    - 具体的な変更
    - 実装詳細
    - 明確なマーカー付き
  validation:
    - command: "テストコマンド"
    - expect: "成功基準"
```

### 実装戦略

- 依存関係を特定
- 優先順位と実装順序と依存関係ロジックでタスクを順序付け
- ロールバック計画を含める
- 段階的な拡張

## ユーザーインタラクションポイント

1. **目標検証**
   - 階層的分解をレビュー
   - 優先順位を確認
   - 欠けている部分を特定

2. **リスクレビュー**
   - 特定されたリスクを文書化
   - 軽減策を見つける
   - go/no-go基準を設定

## コンテキスト要件

- 現在の実装詳細
- ターゲットアーキテクチャの例
- 移行のベストプラクティス
- テスト戦略

## 出力

保存先: `SPEC_PRP/PRPs/{spec-name}.md`

## 品質チェックリスト

- [ ] 現状が完全に文書化されている
- [ ] 目標状態が明確に定義されている
- [ ] すべての目標が測定可能
- [ ] タスクが依存関係順に順序付けられている
- [ ] 各タスクにAIが実行できる検証がある
- [ ] リスクが軽減策付きで特定されている
- [ ] ロールバック戦略が含まれている
- [ ] 統合ポイントが記録されている

覚えておいてください: 目的地だけでなく、変換の旅程に焦点を当ててください。
